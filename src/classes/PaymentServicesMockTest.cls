@isTest
global class PaymentServicesMockTest implements WebServiceMock {
	  global void doInvoke(
			Object stub,
			Object request,
			Map<String, Object> response,
			String endpoint,
			String soapAction,
			String requestName,
			String responseNS,
			String responseName,
			String responseType) {

		if(soapAction == 'SFUpdatePaymentProfile'){
			WS_SOA_Payment_DS_V2.SFUpdatePaymentProfileResponse_element responseElement = new WS_SOA_Payment_DS_V2.SFUpdatePaymentProfileResponse_element();
			responseElement.MerchantKey = 'TestID';
			responseElement.PaymentProfileID = 'TestToken';
			responseElement.TokenNumber = 'TestTokenID';
			WS_SOA_Payment_DS_V2.SFUpdatePaymentProfileResponseResult_element responseResult = new WS_SOA_Payment_DS_V2.SFUpdatePaymentProfileResponseResult_element();
			responseResult.Status = 'PROFILE_DELETED';
			responseResult.Message = 'ApprovalStatus:1 RespCode:00ProcStatusMessage:Approved';
			responseResult.ErrorMessage = '';
			responseElement.SFUpdatePaymentProfileResponseResult = responseResult;
			response.put('response_x', responseElement);
		}
		if(soapAction == 'SFPreAuthorizeExistingCreditCard'){
			//Create response element from the autogenerated class.
			WS_SOA_Payment_DS_V2.SFExistingCreditCardAuthorizationResponse_element responseElement = new WS_SOA_Payment_DS_V2.SFExistingCreditCardAuthorizationResponse_element();
			// Populate response element.
			responseElement.PaymentProfileID = 'TestID';
			responseElement.TokenNumber = 'TestToken';
			responseElement.OrderID = 'TestTokenID';
			responseElement.TransactionReferenceNumber = 'TestTokenID';
			responseElement.TransactionReferenceIndex = 'TestTokenID';
			responseElement.ResponseDateTime = date.today();
			responseElement.AuthorizationCode = 'testAuthorizationCode';
			WS_SOA_Payment_DS_V2.SFExistingCreditCardAuthorizationResponseResult_element responseResult = new WS_SOA_Payment_DS_V2.SFExistingCreditCardAuthorizationResponseResult_element();
			WS_SOA_Payment_DS_V2.ERQFraudAnalysisResponse_element responseFraud = new WS_SOA_Payment_DS_V2.ERQFraudAnalysisResponse_element();
			responseResult.Status = 'APPROVED';
			responseResult.Message = 'ApprovalStatus:1 RespCode:00ProcStatusMessage:Approved';
			responseResult.ErrorMessage = '';
			responseElement.Result = responseResult;
			responseElement.FraudAnalysisResponse = responseFraud;
			// Add response element to the response parameter, as follows:
			response.put('response_x', responseElement);  
		}
	}

}